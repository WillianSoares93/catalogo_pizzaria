<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saborelli - Cardápio Online</title>
    <!-- Inclui a biblioteca Tailwind CSS para estilização rápida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inclui a biblioteca Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Estilos personalizados para efeitos visuais */
        .pizza-half {
            position: relative;
            overflow: hidden;
        }
        /* Pseudo-elementos para um leve efeito visual em metades de pizza (não usados diretamente na lógica atual) */
        .pizza-half::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background-color: rgba(0,0,0,0.03);
            z-index: -1;
        }
        .pizza-half::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background-color: rgba(0,0,0,0.03);
            z-index: -1;
        }
        /* Animação para "virar" elementos ao aparecer */
        .flip-in {
            animation: flipIn 0.5s ease-out;
        }
        @keyframes flipIn {
            from { transform: rotateY(90deg); opacity: 0; }
            to { transform: rotateY(0); opacity: 1; }
        }
        /* Animação para "deslizar" elementos ao aparecer */
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Estilos para o modal principal */
        .modal {
            display: none; /* Oculto por padrão */
            position: fixed; /* Posição fixa na tela */
            z-index: 1000; /* Acima de outros elementos */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Habilita rolagem se o conteúdo for muito grande */
            background-color: rgba(0,0,0,0.4); /* Fundo escuro semitransparente */
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilos para o modal de mensagem */
        .message-modal {
            display: none; /* Oculto por padrão */
            position: fixed; /* Posição fixa na tela */
            z-index: 1001; /* Acima de outros elementos */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Habilita rolagem se o conteúdo for muito grande */
            background-color: rgba(0,0,0,0.4); /* Fundo escuro semitransparente */
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .message-modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            text-align: center;
            animation: fadeIn 0.3s ease-out;
        }

        /* Estilos para os desenhos de pizza no modal de seleção */
        .pizza-size-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border: 2px solid #e5e7eb; /* gray-200 */
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-align: center;
            min-width: 120px; /* Garante que os itens não fiquem muito pequenos */
        }
        .pizza-size-option:hover {
            border-color: #ef4444; /* red-500 */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        .pizza-size-option img { /* Alterado de svg para img */
            margin-bottom: 8px;
            width: 100px; /* Largura ajustada para retangular */
            height: 70px; /* Altura ajustada para retangular */
            object-fit: contain; /* Garante que a imagem se ajuste sem distorção */
        }

        /* Custom styles for sticky category bar on mobile */
        @media (max-width: 1023px) { /* Applies to screens smaller than 'lg' breakpoint */
            .category-bar-mobile-sticky {
                position: sticky;
                top: 0;
                z-index: 10;
                background-color: #f9fafb; /* bg-gray-50 */
                padding-top: 1rem; /* pt-4 */
                padding-bottom: 0.5rem; /* pb-2 */
                box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* subtle shadow */
            }
            /* Removed flex-direction: column and gap for horizontal layout on mobile */
            /* Removed overflow-x: hidden for horizontal scroll on mobile */
        }

        /* Adicionado para ajustar a rolagem para as seções, considerando a barra fixa */
        .pizza-category-section {
            scroll-margin-top: 6rem; /* Ajuste este valor se a altura da barra fixa mudar */
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Cabeçalho da página -->
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold text-red-600 mb-2">Sua Logo Aqui</h1>
            <p class="text-xl text-gray-600">Pizzaria Artesanal</p>
            <div class="w-24 h-1 bg-red-500 mx-auto mt-4"></div>
        </header>

        <!-- Conteúdo principal: Menu e Pedido -->
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Seção do Menu -->
            <div class="lg:w-2/3">
                <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Cardápio</h2>
                    
                    <!-- Mensagem "Arrasta para o lado" para mobile -->
                    <div class="text-gray-500 text-sm text-center mb-4 lg:hidden">
                        <i class="fas fa-hand-point-right mr-1"></i> Arraste para o lado para ver outras opções
                    </div>

                    <!-- Sticky Category Buttons Container -->
                    <div class="category-bar-mobile-sticky lg:static lg:p-0">
                        <div class="flex space-x-2 mb-6 overflow-x-auto pb-2 
                                    lg:flex-row lg:space-x-2 lg:mb-6 lg:overflow-visible lg:pb-0">
                            <button class="category-btn px-4 py-2 rounded-full bg-red-600 text-white whitespace-nowrap lg:flex-grow-0 lg:flex-shrink-0" data-category="tradicionais" data-target-id="tradicionais-section">Tradicionais</button>
                            <button class="category-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 whitespace-nowrap lg:flex-grow-0 lg:flex-shrink-0" data-category="especiais" data-target-id="especiais-section">Especiais</button>
                            <button class="category-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 whitespace-nowrap lg:flex-grow-0 lg:flex-shrink-0" data-category="doces" data-target-id="doces-section">Doces</button>
                            <button class="category-btn px-4 py-2 rounded-full bg-gray-200 text-gray-800 whitespace-nowrap lg:flex-grow-0 lg:flex-shrink-0" data-category="bebidas" data-target-id="bebidas-section">Bebidas</button>
                        </div>
                    </div>
                    
                    <!-- Lista de Itens do Cardápio -->
                    <div id="pizza-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div id="tradicionais-section" class="pizza-category-section">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Pizzas Tradicionais</h3>
                            <!-- Itens Tradicionais -->
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Margherita</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, manjericão fresco</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 45,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Margherita" 
                                                data-price="45.90" 
                                                data-description="Molho de tomate, mussarela, manjericão fresco"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Calabresa</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, calabresa, cebola</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 48,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Calabresa" 
                                                data-price="48.90" 
                                                data-description="Molho de tomate, mussarela, calabresa, cebola"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Quatro Queijos</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, provolone, parmesão, gorgonzola</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 52,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Quatro Queijos" 
                                                data-price="52.90" 
                                                data-description="Molho de tomate, mussarela, provolone, parmesão, gorgonzola"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Portuguesa</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, presunto, ovos, cebola, azeitonas</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 54,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Portuguesa" 
                                                data-price="54.90" 
                                                data-description="Molho de tomate, mussarela, presunto, ovos, cebola, azeitonas"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="especiais-section" class="pizza-category-section">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Pizzas Especiais</h3>
                            <!-- Itens Especiais -->
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Frango com Catupiry</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, frango desfiado, catupiry</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 56,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Frango com Catupiry" 
                                                data-price="56.90" 
                                                data-description="Molho de tomate, mussarela, frango desfiado, catupiry"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Pepperoni</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, pepperoni, pimentão</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 58,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Pepperoni" 
                                                data-price="58.90" 
                                                data-description="Molho de tomate, mussarela, pepperoni, pimentão"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Vegetariana</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, berinjela, abobrinha, pimentão, champignon</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 55,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Vegetariana" 
                                                data-price="55.90" 
                                                data-description="Molho de tomate, mussarela, berinjela, abobrinha, pimentão, champignon"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Bacon Supreme</h4>
                                    <p class="text-gray-600 text-sm mb-3">Molho de tomate, mussarela, bacon, milho, cebola caramelizada</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 59,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Bacon Supreme" 
                                                data-price="59.90" 
                                                data-description="Molho de tomate, mussarela, bacon, milho, cebola caramelizada"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="doces-section" class="pizza-category-section">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Pizzas Doces</h3>
                            <!-- Itens Doces -->
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Chocolate com Morango</h4>
                                    <p class="text-gray-600 text-sm mb-3">Chocolate ao leite, morangos frescos</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 49,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Chocolate com Morango" 
                                                data-price="49.90" 
                                                data-description="Chocolate ao leite, morangos frescos"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Romeu e Julieta</h4>
                                    <p class="text-gray-600 text-sm mb-3">Goiabada, mussarela, canela em pó</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 47,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Romeu e Julieta" 
                                                data-price="47.90" 
                                                data-description="Goiabada, mussarela, canela em pó"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Banana Caramelada</h4>
                                    <p class="text-gray-600 text-sm mb-3">Banana, doce de leite, canela</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 46,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Banana Caramelada" 
                                                data-price="46.90" 
                                                data-description="Banana, doce de leite, canela"
                                                data-is-pizza="true">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="bebidas-section" class="pizza-category-section">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Bebidas</h3>
                            <!-- Itens Bebidas (sem opção de meia por padrão) -->
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Refrigerante 600ml</h4>
                                    <p class="text-gray-600 text-sm mb-3">Coca-Cola, Guaraná, Fanta, Sprite</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 8,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Refrigerante 600ml" 
                                                data-price="8.90" 
                                                data-description="Coca-Cola, Guaraná, Fanta, Sprite"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Suco Natural 500ml</h4>
                                    <p class="text-gray-600 text-sm mb-3">Laranja, Maracujá, Limão, Abacaxi</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 10,90</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Suco Natural 500ml" 
                                                data-price="10.90" 
                                                data-description="Laranja, Maracujá, Limão, Abacaxi"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Cerveja Long Neck</h4>
                                    <p class="text-gray-600 text-sm mb-3">Heineken, Stella Artois, Budweiser</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 12,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Cerveja Long Neck" 
                                                data-price="12.00" 
                                                data-description="Heineken, Stella Artois, Budweiser"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Água Mineral</h4>
                                    <p class="text-gray-600 text-sm mb-3">Garrafa 500ml, sem gás</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 4,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Água Mineral" 
                                                data-price="4.00" 
                                                data-description="Garrafa 500ml, sem gás"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Água Mineral com Gás</h4>
                                    <p class="text-gray-600 text-sm mb-3">Garrafa 500ml, com gás</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 5,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Água Mineral com Gás" 
                                                data-price="5.00" 
                                                data-description="Garrafa 500ml, com gás"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">H2OH! Limão</h4>
                                    <p class="text-gray-600 text-sm mb-3">Garrafa 500ml</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 7,50</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="H2OH! Limão" 
                                                data-price="7.50" 
                                                data-description="Garrafa 500ml"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Chá Gelado (Limoneto)</h4>
                                    <p class="text-gray-600 text-sm mb-3">Lipton Chá Gelado Limão 300ml</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 6,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Chá Gelado (Limoneto)" 
                                                data-price="6.00" 
                                                data-description="Lipton Chá Gelado Limão 300ml"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Energetico (250ml)</h4>
                                    <p class="text-gray-600 text-sm mb-3">Red Bull, Monster</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 13,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Energetico (250ml)" 
                                                data-price="13.00" 
                                                data-description="Red Bull, Monster"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Cerveja Artesanal (IPA)</h4>
                                    <p class="text-gray-600 text-sm mb-3">Cerveja India Pale Ale, 500ml</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 25,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Cerveja Artesanal (IPA)" 
                                                data-price="25.00" 
                                                data-description="Cerveja India Pale Ale, 500ml"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="pizza-item bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div class="p-4">
                                    <h4 class="font-bold text-lg text-gray-800">Vinho Tinto (Taça)</h4>
                                    <p class="text-gray-600 text-sm mb-3">Vinho da Casa, Taça 180ml</p>
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-red-600">R$ 18,00</span>
                                        <button class="add-pizza-btn px-3 py-1 bg-red-600 text-white rounded-full text-sm hover:bg-red-700 transition" 
                                                data-name="Vinho Tinto (Taça)" 
                                                data-price="18.00" 
                                                data-description="Vinho da Casa, Taça 180ml"
                                                data-is-pizza="false">
                                            Adicionar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Seção do Pedido (Carrinho) -->
            <div class="lg:w-1/3">
                <div class="bg-white rounded-lg shadow-md p-6 sticky top-4">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Seu Pedido</h2>
                    
                    <!-- Opções de Retirada/Entrega -->
                    <div class="mb-4">
                        <h4 class="font-bold text-gray-800 mb-2">Opções de Entrega:</h4>
                        <div class="flex items-center space-x-4">
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio text-red-600" name="deliveryOption" value="pickup">
                                <span class="ml-2 text-gray-700">Retirada (Grátis)</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio text-red-600" name="deliveryOption" value="delivery" checked>
                                <span class="ml-2 text-gray-700">Entrega (R$ 5,00)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Itens adicionados ao pedido -->
                    <div id="order-items" class="mb-6">
                        <p class="text-gray-500 text-center py-4">Seu pedido está vazio</p>
                    </div>
                    
                    <!-- Resumo dos valores do pedido -->
                    <div class="border-t pt-4">
                        <div class="flex justify-between mb-2">
                            <span class="font-medium">Subtotal:</span>
                            <span id="subtotal" class="font-bold">R$ 0,00</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="font-medium">Taxa de entrega:</span>
                            <span id="delivery-fee" class="font-bold">R$ 5,00</span>
                        </div>
                        <div class="flex justify-between text-lg font-bold border-t pt-2 mt-2">
                            <span>Total:</span>
                            <span id="total">R$ 5,00</span>
                        </div>
                    </div>
                    
                    <!-- Botão para finalizar o pedido -->
                    <button id="checkout-btn" class="w-full mt-6 py-3 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Finalizar Pedido
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Botão "Ver Pedido" para mobile, aparece quando há itens no carrinho -->
    <button id="view-order-mobile-btn" class="fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 lg:hidden hidden flex items-center space-x-2">
        <i class="fas fa-receipt text-xl"></i> <span>Ver Pedido</span>
    </button>

    <!-- Modal de Seleção de Pizza (Inteira/Meia) -->
    <div id="pizza-option-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-pizza-option-modal">&times;</span>
            <h3 class="text-xl font-bold text-gray-800 mb-4" id="modal-pizza-name"></h3>
            <p class="text-gray-600 mb-6" id="modal-pizza-description"></p>
            <div id="pizza-size-options" class="grid grid-cols-1 sm:grid-cols-3 gap-4 justify-items-center">
                <!-- Opções de tamanho e "meia a meia" serão inseridas aqui pelo JS -->
            </div>
        </div>
    </div>

    <!-- Modal de Mensagem (para feedback do usuário) -->
    <div id="message-modal" class="message-modal">
        <div class="modal-content">
            <span class="close-button" id="close-message-modal">&times;</span>
            <p class="text-lg font-semibold text-gray-800 mb-4" id="message-modal-text"></p>
            <button id="ok-message-modal" class="px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition">OK</button>
        </div>
    </div>

    <!-- Modal de Sugestão de Bebidas -->
    <div id="drink-suggestion-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-drink-suggestion-modal">&times;</span>
            <h3 class="text-xl font-bold text-gray-800 mb-4">Que tal adicionar uma bebida?</h3>
            <p class="text-gray-600 mb-6">Seu pedido não contém bebidas. Gostaria de adicionar alguma?</p>
            <div id="suggested-drinks-list" class="flex flex-col gap-3 mb-6">
                <!-- Sugestões de bebidas serão inseridas aqui via JS -->
            </div>
            <button id="proceed-without-drinks" class="px-6 py-3 bg-gray-500 text-white rounded-lg font-bold hover:bg-gray-600 transition w-full">
                Continuar sem bebidas
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Seleciona todos os botões de categoria e todos os itens de pizza
            const categoryBtns = document.querySelectorAll('.category-btn');
            const pizzaItems = document.querySelectorAll('.pizza-item');
            const categorySections = document.querySelectorAll('.pizza-category-section');
            
            // Adiciona um listener de clique para cada botão de categoria
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.dataset.category;
                    const targetId = this.dataset.targetId;
                    
                    // Define o botão ativo imediatamente no clique
                    setActiveCategoryButton(category);

                    // Define a flag para ignorar temporariamente o IntersectionObserver
                    isScrollingFromClick = true;

                    // Rola para a seção de destino com comportamento suave
                    document.getElementById(targetId).scrollIntoView({ behavior: 'smooth', block: 'start' });

                    // Após um pequeno atraso, redefine a flag e reavalia a categoria ativa
                    setTimeout(() => {
                        isScrollingFromClick = false;
                        // Força uma reavaliação da categoria ativa após a rolagem, garantindo o estado correto
                        window.dispatchEvent(new Event('scroll')); 
                    }, 700); // 700ms é um bom equilíbrio para rolagem suave
                });
            });
            
            // Funcionalidade do Carrinho de Pedidos
            let order = []; // Array para armazenar os itens do pedido
            const orderItemsEl = document.getElementById('order-items');
            const subtotalEl = document.getElementById('subtotal');
            const totalEl = document.getElementById('total');
            const deliveryFeeEl = document.getElementById('delivery-fee'); // Elemento para exibir a taxa de entrega
            let currentDeliveryFee = 5.00; // Taxa de entrega inicial
            const whatsappNumber = '5587996070638'; // Número de WhatsApp para envio do pedido

            // Referências para os radio buttons de entrega
            const deliveryOptionRadios = document.querySelectorAll('input[name="deliveryOption"]');

            // Referências para o modal de seleção de pizza
            const pizzaOptionModal = document.getElementById('pizza-option-modal');
            const closePizzaOptionModalBtn = document.getElementById('close-pizza-option-modal');
            const modalPizzaName = document.getElementById('modal-pizza-name');
            const modalPizzaDescription = document.getElementById('modal-pizza-description');
            const pizzaSizeOptions = document.getElementById('pizza-size-options'); // Referência para o contêiner de opções de tamanho

            // Referências para o modal de mensagem
            const messageModal = document.getElementById('message-modal');
            const closeMessageModalBtn = document.getElementById('close-message-modal');
            const okMessageModalBtn = document.getElementById('ok-message-modal');
            const messageModalText = document.getElementById('message-modal-text');

            // Referências para o modal de sugestão de bebidas
            const drinkSuggestionModal = document.getElementById('drink-suggestion-modal');
            const closeDrinkSuggestionModalBtn = document.getElementById('close-drink-suggestion-modal');
            const suggestedDrinksList = document.getElementById('suggested-drinks-list');
            const proceedWithoutDrinksBtn = document.getElementById('proceed-without-drinks');

            // Referência para o botão "Ver Pedido" mobile
            const viewOrderMobileBtn = document.getElementById('view-order-mobile-btn');

            let currentPizzaData = {}; // Objeto para armazenar temporariamente os dados da pizza selecionada
            let firstHalfPizza = null; // Armazena os dados da primeira metade de uma pizza dividida
            let isSelectingSecondHalf = false; // Flag para indicar se o usuário está escolhendo a segunda metade

            // Amostra de bebidas sugeridas (10 opções)
            const suggestedDrinks = [
                { name: 'Refrigerante 600ml (Coca-Cola)', price: 8.90, description: 'Coca-Cola, Guaraná, Fanta, Sprite', category: 'bebidas' },
                { name: 'Suco Natural 500ml (Laranja)', price: 10.90, description: 'Laranja, Maracujá, Limão, Abacaxi', category: 'bebidas' },
                { name: 'Cerveja Long Neck (Heineken)', price: 12.00, description: 'Heineken, Stella Artois, Budweiser', category: 'bebidas' },
                { name: 'Água Mineral (500ml)', price: 4.00, description: 'Garrafa 500ml, sem gás', category: 'bebidas' },
                { name: 'Água Mineral com Gás (500ml)', price: 5.00, description: 'Garrafa 500ml, com gás', category: 'bebidas' },
                { name: 'H2OH! Limão (500ml)', price: 7.50, description: 'Garrafa 500ml', category: 'bebidas' },
                { name: 'Chá Gelado (Limoneto) (300ml)', price: 6.00, description: 'Lipton Chá Gelado Limão 300ml', category: 'bebidas' },
                { name: 'Energético (250ml)', price: 13.00, description: 'Red Bull, Monster', category: 'bebidas' },
                { name: 'Cerveja Artesanal (IPA) (500ml)', price: 25.00, description: 'Cerveja India Pale Ale, 500ml', category: 'bebidas' },
                { name: 'Vinho Tinto (Taça) (180ml)', price: 18.00, description: 'Vinho da Casa, Taça 180ml', category: 'bebidas' }
            ];

            // Define tamanhos e seus multiplicadores de preço em relação ao preço de 8 fatias
            const sizes = [
                { slices: 4, label: '4 Fatias', multiplier: 0.7 },
                { slices: 6, label: '6 Fatias', multiplier: 0.85 },
                { slices: 8, label: '8 Fatias', multiplier: 1.0 }
            ];

            // Função para gerar a imagem de uma fatia de pizza
            function getGenericPizzaSliceImage() {
                // Usando o caminho relativo para a imagem no mesmo repositório
                return `
                    <img src="icon fatia.avif" 
                         alt="Fatia de Pizza" 
                         onerror="this.onerror=null;this.src='https://placehold.co/100x70/cccccc/000000?text=Pizza';" />
                `;
            }

            // Função para exibir o modal de mensagem
            function showMessageModal(message) {
                messageModalText.textContent = message;
                messageModal.style.display = 'flex'; // Usa flexbox para centralizar
            }

            // Função para ocultar o modal de mensagem
            function hideMessageModal() {
                messageModal.style.display = 'none';
            }

            // Listeners para fechar o modal de mensagem
            closeMessageModalBtn.addEventListener('click', hideMessageModal);
            okMessageModalBtn.addEventListener('click', hideMessageModal);
            window.addEventListener('click', function(event) {
                if (event.target == messageModal) {
                    hideMessageModal();
                }
            });

            // Function to set active category button
            function setActiveCategoryButton(category) {
                categoryBtns.forEach(btn => {
                    if (btn.dataset.category === category) {
                        btn.classList.remove('bg-gray-200', 'text-gray-800');
                        btn.classList.add('bg-red-600', 'text-white');
                        // Rola o botão ativo para a visualização se estiver na área rolável
                        btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    } else {
                        btn.classList.remove('bg-red-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'text-gray-800');
                    }
                });
            }

            // Flag para prevenir que o IntersectionObserver sobrescreva eventos de clique
            let isScrollingFromClick = false; 
            // Armazena a categoria ativa atual determinada pela rolagem para evitar cintilação
            let currentActiveCategoryByScroll = 'tradicionais'; 

            // Function to get the current sticky header height dynamically
            function getStickyHeaderHeight() {
                const stickyHeader = document.querySelector('.category-bar-mobile-sticky');
                // Use offsetHeight for accurate height including padding and border
                return stickyHeader ? stickyHeader.offsetHeight : 0;
            }

            // Function to update the active category based on scroll position
            function updateActiveCategoryFromScroll() {
                if (isScrollingFromClick) {
                    return; // Não atualiza se a rolagem foi iniciada por um clique
                }

                let newActiveCategory = null;
                const stickyHeaderHeight = getStickyHeaderHeight();
                let bestMatchDistance = Infinity;

                // Itera sobre as seções para encontrar a que está atualmente no topo da visualização
                for (let i = 0; i < categorySections.length; i++) {
                    const section = categorySections[i];
                    const rect = section.getBoundingClientRect();
                    const category = section.id.replace('-section', '');

                    // Uma seção é considerada "ativa" se o seu topo está na ou acima da parte inferior do cabeçalho fixo,
                    // e sua parte inferior ainda está visível (ou seja, não rolou completamente).
                    // Queremos a seção mais ao topo que atende a esse critério, ou aquela cujo topo está mais próximo do cabeçalho fixo.
                    
                    // Se a seção está visível na viewport
                    if (rect.bottom > 0 && rect.top < window.innerHeight) {
                        // Calcula a distância do seu topo em relação à parte inferior do cabeçalho fixo
                        const distance = rect.top - stickyHeaderHeight;

                        // Estamos procurando a seção cujo topo está logo na ou um pouco abaixo do cabeçalho fixo.
                        // Prioriza as seções que estão "entrando" na área fixa.
                        if (distance <= 0 && rect.bottom > stickyHeaderHeight) { // Seção está atualmente "abaixo" do cabeçalho fixo
                            newActiveCategory = category;
                            break; // Esta é a correspondência mais precisa, pode parar a busca
                        } else if (distance > 0 && distance < bestMatchDistance) { // Seção está logo abaixo do cabeçalho fixo
                            bestMatchDistance = distance;
                            newActiveCategory = category;
                        }
                    }
                }

                // Fallback para carregamento inicial ou se nenhuma seção estiver perfeitamente alinhada
                if (!newActiveCategory && categorySections.length > 0) {
                    // Se rolou para o topo da página, define como 'tradicionais' por padrão
                    if (window.scrollY <= stickyHeaderHeight + 10) { // Pequeno buffer para o topo da página
                        newActiveCategory = 'tradicionais';
                    } else {
                        // Como último recurso, encontra a última seção visível (para o final da rolagem)
                        for (let i = categorySections.length - 1; i >= 0; i--) {
                            const section = categorySections[i];
                            const rect = section.getBoundingClientRect();
                            if (rect.top < window.innerHeight && rect.bottom > 0) { // Se alguma parte da seção está visível
                                newActiveCategory = section.id.replace('-section', '');
                                break;
                            }
                        }
                    }
                }
                
                if (newActiveCategory && newActiveCategory !== currentActiveCategoryByScroll) {
                    setActiveCategoryButton(newActiveCategory);
                    currentActiveCategoryByScroll = newActiveCategory;
                }
            }

            // O IntersectionObserver agora simplesmente acionará a função updateActiveCategoryFromScroll
            const categoryObserver = new IntersectionObserver((entries) => {
                // Este observador será acionado quando qualquer parte da seção entrar na viewport.
                // Em seguida, chamamos nossa verificação manual para determinar a categoria ativa mais apropriada.
                updateActiveCategoryFromScroll();
            }, {
                root: null, // A viewport
                rootMargin: `-${getStickyHeaderHeight()}px 0px 0px 0px`, // Ajusta a raiz para começar abaixo do cabeçalho fixo
                threshold: 0.01 // Um pequeno limite para acionar frequentemente durante a rolagem
            });

            // Observa cada seção de categoria
            categorySections.forEach(section => {
                categoryObserver.observe(section);
            });

            // Adiciona um listener de rolagem para atualizações mais imediatas,
            // embora o IntersectionObserver deva lidar com a maioria dos casos.
            // Isso serve como uma rede de segurança e ajuda com o debouncing.
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    updateActiveCategoryFromScroll();
                }, 50); // Debounce eventos de rolagem
            });

            // Chamada inicial para definir a categoria ativa correta no carregamento
            window.addEventListener('load', () => {
                updateActiveCategoryFromScroll();
            });
        });
    </script>
</body>
</html>
